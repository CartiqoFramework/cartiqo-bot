generator clientCartiqoBans {
  provider = "prisma-client-js"
  output   = "../../packages/core/prisma/cartiqo-bans"
}

datasource cartiqo_bans_db {
  provider = "mysql"
  url      = env("DATABASE_URL_CARTIQO_BANS")
}

// -----------------------------
// Models
// -----------------------------
model BanProfile {
  id        Int     @id @default(autoincrement())
  discordId String  @unique
  username  String
  avatarUrl String?

  records BanRecord[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model BanRecord {
  id        Int        @id @default(autoincrement())
  profile   BanProfile @relation(fields: [profileId], references: [id])
  profileId Int

  category BanCategory @default(Global)
  type     BanType     @default(Toxicity)
  status   BanStatus   @default(Indefinite)

  reason      String?
  community   String?
  issuedBy    String?
  evidenceUrl String? @cartiqo_bans_db.LongText

  isActive  Boolean   @default(true)
  expiresAt DateTime?
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
}

// -----------------------------
// Enums
// -----------------------------
enum BanCategory {
  Global
  Discord
  FiveM
  Marketplace
  Community
}

enum BanType {
  // üß† General Misconduct
  Toxicity
  Harassment
  HateSpeech
  Discrimination
  Bullying
  Impersonation
  Threats
  Spamming
  Advertising
  Phishing
  DataLeak
  Doxxing
  DDoS
  ServerRaid
  NSFWDistribution
  AlternateAccount
  Evasion
  PrivacyViolation

  // üéÆ Exploits / Cheating
  Cheating
  MacroUsage
  ExploitUsage
  ExploitDevelopment
  Duping
  ModMenuUsage
  GameTampering
  DeveloperAbuse

  // üí∞ Marketplace & Financial
  Scam
  Chargeback
  FraudulentActivity
  AccountSales
  UnauthorizedResale
  FakeProof
  FalseClaims
  PaymentEvasion
  CryptoScam

  // ‚öñÔ∏è Platform & Policy
  StaffImpersonation
  UnauthorizedAccess
  TokenAbuse
  BotAbuse
  APIAbuse
  DataManipulation
  PolicyViolation
  BlacklistedEntity
  FalseReporting
  ExploitDistribution

  // üõë Community & Security
  BanEvasion
  PlatformAbuse
  UnauthorizedAutomation
  ExploitSharing
  SecurityThreat
  Infiltration
  InsiderThreat
}

/// Ban duration / intent
enum BanStatus {
  Permanent
  Temporary
  Indefinite
}
